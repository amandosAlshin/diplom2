(this.webpackJsonpexam=this.webpackJsonpexam||[]).push([[0],{122:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),s=n.n(c),i=(n(95),n(96),n(41)),o=n(72),u=n(73),l=n(46),d="USER_SET_STUDENT_INFO",j="USER_RESET_STUDENT",m={name:"",surname:"",studentId:""};var p=Object(i.combineReducers)({student:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(l.a)(Object(l.a)({},e),{},{name:t.name,surname:t.surname,studentId:t.studentId});case j:return{};default:return e}}}),f=Object(o.composeWithDevTools)({features:{pause:!0,lock:!1,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}}),b=Object(i.createStore)(p,f(Object(i.applyMiddleware)(u.a))),h=n(77),x=n(13),O=n(29),g=n(176),v=n(167),y=n(162),S=n(174),w=n(76),I=n.n(w),N=n(124),k=n(159),C=n(168),T=n(39),q=n(47),R=n.n(q),B=n(53),E=n(3),D=n(164),F=n(165),U=n(166),W=n(75),P=n.n(W),_=n(169),H=n(170),L=n(175),G=n(173),J=n(172),M=n(171),A=n(74),V=n.n(A).a.create({baseURL:"/",timeout:5e3});V.interceptors.request.use((function(e){return e}),(function(e){console.log(e),Promise.reject(e)})),V.interceptors.response.use((function(e){return e}),(function(e){console.log("err"+e);var t=e.response.status;return console.log(t),Promise.reject(e)}));var z=V;function K(e){return z({url:"/exam/student/save-result",method:"post",data:e})}var Q=function(e){return{type:d,name:e.name,surname:e.surname,studentId:e.studentId}},X=n(6),Y=Object(k.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},formControl:{margin:e.spacing(3)},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},question:{"& > *":{margin:e.spacing(1)}}}}));var Z=Object(T.b)((function(e){return e.student}),{resetUser:function(){return{type:j}}})((function(e){var t=e.resetUser,n=Y(),c=r.a.useState(!0),s=Object(O.a)(c,2),i=s[0],o=s[1],u=r.a.useState(0),l=Object(O.a)(u,2),d=l[0],j=l[1],m=r.a.useState(0),p=Object(O.a)(m,2),f=p[0],b=p[1],h=r.a.useState(0),x=Object(O.a)(h,2),g=x[0],S=x[1],w=r.a.useState([]),I=Object(O.a)(w,2),k=I[0],T=I[1],q=function(){var e=Object(B.a)(R.a.mark((function e(){var t,n,a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,z({url:"/exam/student/question-list",method:"post"});case 3:if(t=e.sent,"ok"===(n=t.data).type){for(S(!1),a=[],r=0;r<n.questions.length;r++)a.push(0);T(a),b(n.questions)}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){var t=k;t[d]=e.target.value,T(t)},A=function(){var n=Object(B.a)(R.a.mark((function n(){var a;return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return S(!0),n.next=3,K({studentId:e.studentId,data:k});case 3:a=n.sent,"ok"===a.data.type&&(S(!1),t());case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(a.useEffect)((function(){q()}),[]),Object(X.jsxs)("div",{className:n.root,children:[Object(X.jsx)(y.a,{}),Object(X.jsx)(D.a,{position:"absolute",children:Object(X.jsxs)(F.a,{className:n.toolbar,children:[Object(X.jsx)(U.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},className:Object(E.a)(n.menuButton,i&&n.menuButtonHidden),children:Object(X.jsx)(P.a,{})}),Object(X.jsx)(N.a,{align:"left",component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title,children:"\u0421\u0435\u0442\u0435\u0432\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438\u0438"}),Object(X.jsx)(v.a,{onClick:function(){return A()},variant:"contained",color:"secondary",children:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0442\u0435\u0441\u0442"})]})}),Object(X.jsxs)("main",{className:n.content,children:[Object(X.jsx)("div",{className:n.appBarSpacer}),Object(X.jsx)(C.a,{maxWidth:"lg",className:n.container,children:Object(X.jsx)(_.a,{className:n.root,children:Object(X.jsxs)(H.a,{children:[!!g&&Object(X.jsx)(M.a,{}),Object(X.jsx)(N.a,{component:"h1",variant:"h2",align:"left",color:"textPrimary",children:!!f&&f[d].question}),Object(X.jsx)("div",{style:{margin:"25px",textAlign:"left"},children:Object(X.jsx)(J.a,{component:"fieldset",children:!!f&&f[d].answers.map((function(e){return Object(X.jsx)(G.a,{value:e.id,control:Object(X.jsx)(L.a,{onChange:W,value:e.id}),label:e.answer},e.id)}))})})]})})}),Object(X.jsx)("div",{className:n.question,children:!!f&&f.map((function(e,t){return Object(X.jsxs)(v.a,{onClick:function(){return function(e){j(e)}(t,e.questionId)},variant:"contained",color:"primary",children:["\u0412\u043e\u043f\u0440\u043e\u0441: ",t+1]},e.questionId)}))})]})]})})),$=Object(k.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var ee=Object(T.b)((function(e){return e.student}),{instStudent:function(e,t){return function(n){return new Promise((function(a,r){var c;(c={name:e,surname:t},z({url:"/exam/student/add",method:"post",data:c})).then((function(e){var t=e.data;if("ok"===t.type){n(Q(t)),a(t)}else{var c=t.msg;r(c)}})).catch((function(e){r(e)}))}))}}})((function(e){var t=e.instStudent,n=e.studentId,r=Object(a.useState)(!1),c=Object(O.a)(r,2),s=c[0],i=c[1],o=$(),u=Object(a.useRef)(null),l=Object(a.useRef)(null);return n?Object(X.jsx)(Z,{}):Object(X.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(X.jsx)(y.a,{}),Object(X.jsxs)("div",{className:o.paper,children:[Object(X.jsx)(g.a,{className:o.avatar,children:Object(X.jsx)(I.a,{})}),Object(X.jsx)(N.a,{component:"h1",variant:"h5",children:"\u0421\u0435\u0442\u0435\u0432\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438\u0438"}),Object(X.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,n){i(!0),t(e,n).then((function(e){i(!1)})).catch((function(e){i(!1),console.log(e)}))}(l.current.value,u.current.value)},className:o.form,noValidate:!0,children:[Object(X.jsx)(S.a,{inputRef:u,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"surname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"surname",autoComplete:"surname",autoFocus:!0}),Object(X.jsx)(S.a,{inputRef:l,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstname",label:"\u0418\u043c\u044f",name:"firstname",autoComplete:"firstname",autoFocus:!0}),Object(X.jsx)(v.a,{disabled:s,type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:o.submit,children:"\u041d\u0430\u0447\u0430\u0442\u044c"})]})]})]})}));function te(e){return Object(X.jsx)(h.a,{children:Object(X.jsx)(x.c,{children:Object(X.jsx)(x.a,{path:"/",render:function(){return e.studentId?Object(X.jsx)(Z,{}):Object(X.jsx)(ee,{})}})})})}var ne=function(){return Object(X.jsx)(T.a,{store:b,children:Object(X.jsx)(te,{})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(X.jsx)(r.a.StrictMode,{children:Object(X.jsx)(ne,{})}),document.getElementById("root")),ae()},95:function(e,t,n){},96:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.64fcf7c1.chunk.js.map